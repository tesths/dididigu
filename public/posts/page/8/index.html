<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Posts | PaperMod</title>
<meta name="keywords" content="">
<meta name="description" content="Posts - PaperMod">
<meta name="author" content="Me">
<link rel="canonical" href="http://localhost:1313/posts/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.fc220c15db4aef0318bbf30adc45d33d4d7c88deff3238b23eb255afdc472ca6.css" integrity="sha256-/CIMFdtK7wMYu/MK3EXTPU18iN7/MjiyPrJVr9xHLKY=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="http://localhost:1313/posts/index.xml">
<link rel="alternate" hreflang="zh" href="http://localhost:1313/posts/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript>
  

<meta property="og:title" content="Posts" />
<meta property="og:description" content="DiDi&#39;s Website - https://www.dididigu.com/" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://localhost:1313/posts/" />
<meta property="og:image" content="http://localhost:1313/images/papermod-cover.png" />


<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="http://localhost:1313/images/papermod-cover.png" />
<meta name="twitter:title" content="Posts"/>
<meta name="twitter:description" content="DiDi&#39;s Website - https://www.dididigu.com/"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }
  ]
}
</script>
</head>

<body class="list" id="top">

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="PaperMod (Alt + H)">PaperMod</a>
            <div class="logo-switches">
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/archives/" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/index.xml" title="Feed">
                    <span>Feed</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://github.com/adityatelange/hugo-PaperMod/wiki/" title="About">
                    <span>About</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header"><div class="breadcrumbs"><a href="http://localhost:1313/">主页</a></div>
  <h1>
    Posts
    <a href="/posts/index.xml" title="RSS" aria-label="RSS">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
        stroke-linecap="round" stroke-linejoin="round" height="23">
        <path d="M4 11a9 9 0 0 1 9 9" />
        <path d="M4 4a16 16 0 0 1 16 16" />
        <circle cx="5" cy="19" r="1" />
      </svg>
    </a>
  </h1>
</header>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">浅谈解决 Instagram 推送失效的问题
    </h2>
  </header>
  <div class="entry-content">
    <p>最近由于某些需要。需要关注 Instagram 的博主，ins 本身是提供了推送服务的，但是由于各种原因，经常收不到推送，这就需要自己采取爬虫的形式。
推送服务 推送服务有很多选择，除了国内的平台都可以。我在这里采取了比较灵活的 telegram bot。tg 是一款很伟大的产品，很简单的方式就可以对接机器人自动发布消息。
我采用了 telegram-bot-ruby 这个 gem，来将 ruby 脚本和 tg 联系起来。
虽然我更推荐你们使用 python 或者 php，在 GitHub 上有很多和 ins 相关的 python 的库，甚至可以调用到 ins 私有的 api 接口。由于我最近的技术栈都是 ruby 所以就采用了 ruby。
爬虫获取 ins 自身的网络请求是 api 分离的，这意味着如果爬虫爬取到了 json 接口之后可以直接获取 json 的数据。只需要在所有的 url 后面加上 ?__a=1 即可获得 json 格式的数据。
爬虫方案 我采取的方案是每 5s 请求一次。对比前一次和这一次的区别。这里就不详细叙述了。
网络请求优化及异常处理 由于我的程序一开始写的不够规范，导致重复请求过多。而 instagram 对于请求频率过于高的 ip 会返回 429 错误。429 是请求次数过多。
而在请求错误过多的情况下，会导致异常处理。这里我采取 try catch 的方案。
在逐步优化后我的爬虫现在平均每分钟运行 12 次。已经处于不会被封的范围内了。
小彩蛋 graphql 已经被 Instagram 采用。突然有一天的接口全部是 graphql 了。导致的就是需要重新修改 json 的解析。现在的解析还是有点复杂的。...</p>
  </div>
  <footer class="entry-footer">1 分钟&nbsp;·&nbsp;Me</footer>
  <a class="entry-link" aria-label="post link to 浅谈解决 Instagram 推送失效的问题" href="http://localhost:1313/posts/2018-4-9-instagram/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">松果压制上架 Mac App Store 及沙盒机制的部分说明
    </h2>
  </header>
  <div class="entry-content">
    <p>距离上次写博客过去了一个月。这一个月经历了挣扎的上架 MAS。还好我没放弃，终于在昨天上架了 MAS。
我将凭借我的记忆来叙述这个上架过程中一些对于沙盒机制的理解。以及整个上线过程中存在的坑。
第三方 executable file 的签名 上文提到，我在整个软件的压制过程中，使用的是 ffmpeg 官网的可执行文件压制。而像 Mac 上著名的 INNA 是采用的 ffmpeg 的 .h 头文件 &#43; 部分 objective-c 代码来实现部分和 ffmpeg 相关的代码。
我承认我不是一个好的工程师，我也承认我觉得使用 ffmpeg 的 c 文件进行二次开发是更好的选择。但是如果我把我的精力放在研究 c 代码上，那这个工程量对于我来说太大，以及我觉得直接使用 ffmpeg 并不是不可以。
那么采用 ffmpeg 可执行文件作为我们的主要工具，就有一个很重要的问题，那就是 ffmpeg 的签名问题。MAS 版本的所有文件都要求进行签名，我第一次无法上传到 MAS 的问题就是 ffmpeg 没有签名。这里的签名就直接使用 codesign 签名是可以的。除此之外，对于 ffmpeg 要求有一个单独的 entitlement 文件，而这个文件里面应该填写的是
&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt; &lt;!DOCTYPE plist PUBLIC &#34;-//Apple//DTD PLIST 1.0//EN&#34; &#34;http://www.apple.com/DTDs/PropertyList-1.0.dtd&#34;&gt; &lt;plist version=&#34;1.0&#34;&gt; &lt;dict&gt; &lt;key&gt;com.apple.security.inherit&lt;/key&gt; &lt;true/&gt; &lt;key&gt;com.apple.security.app-sandbox&lt;/key&gt; &lt;true/&gt; &lt;/dict&gt; &lt;/plist&gt; 然后在签名的使用 codesign 和 entitlement 签名。...</p>
  </div>
  <footer class="entry-footer">3 分钟&nbsp;·&nbsp;Me</footer>
  <a class="entry-link" aria-label="post link to 松果压制上架 Mac App Store 及沙盒机制的部分说明" href="http://localhost:1313/posts/2018-7-15-mas-sanbox/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">微信小程序自定义字体
    </h2>
  </header>
  <div class="entry-content">
    <p>最近给单位在做小程序，中间需要使用自定义字体。稍微梳理下整个过程。
起因 在小程序中是可以使用 font-family 属性的，但是官方没有给出有哪些 font 是可以选用的，所以我们无法知道小程序到底可以支持哪些内置的字体。自定义字体就成为了一个问题。
小程序本身不支持将字体拖进去，然后通过引用的方式来使用字体。即使可以，一个思源字体随便都 10MB，拖进去之后整个大小就超过了小程序的 2MB 限制。
在网上查找之后还有一个方案，就是使用在线的 transfonter.org 将字体转换成 base64 的方式。有使用 base64 的方案，但是还是会超过大小。而且 transfonter.org 对字体的大小本身还存在限制。这就是很麻烦的一件事情。
解决方案 那么如何解决呢？我这里提供两个方案。
一是通过在线应用 url 的方式。
这种方案就是将字体文件存在文件服务器上，通过地址的方案引到小程序中，比如我下午使用的 http://o9791noio.bkt.clouddn.com/songti.TTF 这个网址，是七牛的，可以使用！而且这种方案在 zanui-weapp 的 issue 是有人提到的，链接是 使用&#34;单元格&#34;时，icon无法使用，但是我在真机测试的时候不可以，没有具体排查。我觉得问题的原因有两个，一是网上有些资料说 iOS 必须使用 https，二还是最根本的字体大小的问题，如果字体太大，模拟器就会有错误提示，真机在最开始如果没有加载也会非常麻烦。总之这个方案目前是被我 pass 的。
二就是下面我现在使用的我觉得合理的方案。上 字蛛。当然这个也不是最好的解决方案。
根据我的需求，我需要的个性化字体都是写死了，就是不需要网络加载。那么就可以采用字蛛对字体进行压缩。字蛛会把 html 中用到的字进行提取和压缩，用不到的就 pass 掉。这样会给原来的 ttf 文件进行一个强力的压缩，比如我压缩之后整个 ttf 文件的大小就变成了 8kb。这个效果还是显而易见的，这个时候再采用 transfonter.org 将字体转换为 base64 就可以了。
脑洞 那么假设一下一个情况，如果需要的是动态字体怎么办？
虽然我暂时还没有这个需求，我想到的方案是，首先后台会将专门的字体进行一个标记，那么在标记之后，使用 font-spider 将原字体进行压缩，再使用 url 获取的方式来动态加载，由于这个时候的字体文件很小，那么就不会有字体太大手机端加载不出来的情况。
或者就是直接把常用字进行 base64 加密，就省去了网络获取的问题了。
非常想知道青芒杂志咋弄的 哈哈。</p>
  </div>
  <footer class="entry-footer">1 分钟&nbsp;·&nbsp;Me</footer>
  <a class="entry-link" aria-label="post link to 微信小程序自定义字体" href="http://localhost:1313/posts/2018-5-14-miniprogram-font/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">我的chrome插件
    </h2>
  </header>
  <div class="entry-content">
    <p>起因 今天帮同学配完surge，顺便安利了pocket，后来发现同学不会用..然后就想到我可以把我用到的chrome插件写一写。
正好最近也没写博客了，就当滥竽充数完成当初计划的每周一更的计划吧…
我只写我常用的，我不常用的就略过了。
正文 以下推荐等级，5是满分！
先附张图。这是我的插件栏，但是好多插件可以直接运行，比如划词翻译，我就让插接件栏不显示他们了。
第一个是SwitchySharp，第二个是开发者头条的分享插件，第三个是postman，第四个是pocket，第五个onetab，第六个feedly，第七个1password。第八个是postman的抓包插件。
具体见下文。所有插件名都可以点！所有插件名都可以点！所有插件名都可以点！
我最常用的 1Password extension 推荐等级：4
大名鼎鼎的密码管理软件推出的chrome插件，储存之后基本上就不用每次输密码了，点击1Password的插件就可以自动帮你输入账号密码了。对于我这种各大网站论坛都有账号的人来说简直是福利。
1password在appstore是收费的，不过最近在打半价。前几天就入了一个。
LastPass: Free Password Manager 推荐等级：4.5
这个是之前用的密码管理插件，这个是免费的，只有跨平台的时候需要收费。当然如果只是基于浏览器的话，这个非常方便。它不像1Password需要点击才能自动填写你的用户名和密码，这个是自动检测的，用一次就明白了，非常非常推荐。
我之所以换1Password是因为1Password降价了…而且想在手机上也用，不然LastPass依然是我的首选。省去了我记密码的事情，再也不用每次用个文档记录还得查。
Avatars for Github 推荐等级：4
这个插件是之前stormzhang在微信公众号AndroidDeveloper上推荐的插件。原文吐血推荐珍藏的Chrome插件
作为程序员，Github基本上快要成为我每天必须要逛的网站了。Github你follow的人动态会显示在首页，但是只显示人名，大部分时间里你不知道大部分的人名对应哪个人。有了这个插件，它会显示头像，这样看上去就知道，啊，原来是这个大神有star了某个牛逼的项目。非常之方便。
同时在之前的那篇文章里还推荐了Octotree，可以显示Github中代码的目录，我就不做详细介绍了。
feedly Mini 推荐等级：4.5
这个简直是我用的最频繁的插件之一了..作为feedly的重度使用用户，我必须要安利一下这个插件。
博客基本上都支持rss订阅，这样博客有新文章我这边就能看到了。
这个插件一是可以在可以订阅rss的网页右下角显示一个feedly的图标，可以直接订阅这个博客到你的feedly列表。
而且可以在chrome插件栏快速打开你的feedly web端，现在每天开chrome第一件事情，先是开feedly看看有没有博客更新。
Github Menu Back 推荐等级：4
之前Github的首页改版了…
搜索栏旁边的Explore没了，没了！！！而且你的头像在最右边，还特别小！！！
后来那天刚改版，就有人觉得不习惯，于是开发了一个这个插件，简单的说，你的Github最上面恢复到之前的样子了。
有Explore，还有大大的头像，大爱。还是喜欢老版本的。
OneTab 推荐等级：4.5
熊大大给我推荐的插件，已经成为我chrome插件的常驻了。
怎么用呢。
我们都有这样的场景，打开了一堆网页，每个都觉得好，但是很晚了要回去来不及看怎么办。
OneTab一下~它会把你现在打开的所有tab变成一个网页，里面有你打开的所有网页的url。这时候你关机回家。
第二天来了，只要restore一下，这些网页又全部打开了~这还不是重点。之前我在配路由器的时候有很多网站都很好，舍不得关闭，又懒得收藏，还想发给班长。直接onetab一下，它自带了share的功能，这时候把它share生成的那个url发给班长，班长就能看到我找到的这些网站了。
不能更赞！
Save to Pocket 推荐等级：5
两个满分推荐之一。
pocket简直就是一个神一样存在的插件。
pocket是一个完整的一套。安卓到iOS，平板到手机。
不仅满分推荐，而且我各种安利别人…
干啥的呢，你安装之后，如果你上网看到好的文章，你就可以点这个插件，iphone和安卓都可以发送到pocket。然后你的pocket就会把整个网页重新排版，然后还可以缓存到你的平板或者手机上，这时候你想啥时候看就可以啥时候看了。
上厕所，坐车，都可以看，我经常性看到好的博客，就直接pocket一下，然后缓存好，没事的时候直接在平板就直接看了。简直不能更赞。
Postman 系列 推荐等级：4.5
Postman是测试接口的软件，这是开发必备，可以看返回的json数据，可以模拟各种请求。
Postman最近还推出了抓包的插件Postman Interceptor，非常赞！也是我日常必备插件。
这个不用多介绍，下载点开就明白咋用了。用了就知道好用。...</p>
  </div>
  <footer class="entry-footer">1 分钟&nbsp;·&nbsp;Me</footer>
  <a class="entry-link" aria-label="post link to 我的chrome插件" href="http://localhost:1313/posts/2016-2-3-chrome/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="http://localhost:1313/posts/page/7/">
      «&nbsp;上一页&nbsp;7/8
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
        <span><a href="https://www.dididigu.com/">DiDi&rsquo;s Website</a></span> · 

    <span>
        tesths © 2024. All rights reserved.
        
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
</body>

</html>
